<header>
    饼布局
</header>
<div class="version">
    1.4.0 新增
</div>
<h2>
    引入
</h2>
<pre tag="javascript">
import { PieLayout } from "vislite"
</pre>
<h2>
    语法
</h2>
<p>
    通过传递一个配置项即可创建布局对象：
</p>
<pre tag="javascript">
let pieLayout = new PieLayout(config)
</pre>
<p>
    其中config表示布局求解的原始数据格式，如果你数据的格式类似下面：
</p>
<pre tag="javascript">
[
    { value: 1048, name: 'Search Engine' },
    ...
]
</pre>
<p>
    则config可以不传递，直接使用默认值，否则就需要自己配置不满足默认格式的部分，具体config是一个json，可选属性如下：
</p>
<div class="warn">
    温馨提示：数据必须是一个数组。
</div>
<h3>
    name
</h3>
<p>
    获取条目名称的方法，以默认格式为例（下同）：
</p>
<pre tag="javascript">
"name": function(pieData, initPie){
    return pieData.name
}
</pre>
<h3>
    value
</h3>
<p>
    获取条目值的方法：
</p>
<pre tag="javascript">
"value": function(pieData, initPie){
    return pieData.value
}
</pre>
<h2>
    方法
</h2>
<h3>
    setOption
</h3>
<p>
    设置布局的行为：
</p>
<pre tag="javascript">
    pieLayout.setOption(option)
</pre>
<p>
    其中option应该是一个json，用以规范饼图的行为，可选属性如下：
</p>
<h4>
    cx
</h4>
<p>
    饼图圆心横坐标，number类型，默认200。
</p>
<h4>
    cy
</h4>
<p>
    饼图圆心纵坐标，number类型，默认200。
</p>
<h4>
    radius
</h4>
<p>
    饼图内外半，number数组类型，默认[50, 100]。
</p>
<h4>
    duration
</h4>
<p>
    切换时长，number类型，默认200（即0.2s）。
</p>
<h3>
    use
</h3>
<p>
    单纯的饼图坐标计算：
</p>
<pre tag="javascript">
    let pie = pieLayout.use(initPie, hoverIndex = -1)
</pre>
<h3>
    bind
</h3>
<p>
    绑定新的数据和渲染方法：
</p>
<pre tag="javascript">
pieLayout.bind(initPie, function(pie){
    // 绘制出饼图
})
</pre>
<div class="warn">
    温馨提示：上述形参pie的格式你可以点击
    <button tag="pie-format" type="explain">PieLayout 数据格式</button>
    进行查阅。
</div>
<h3>
    unbind
</h3>
<p>
    解除绑定：
</p>
<pre tag="javascript">
    pieLayout.unbind()
</pre>
<h3>
    setHover
</h3>
<p>
    设置当前悬浮序号（-1表示取消悬浮）：
</p>
<pre tag="javascript">
    pieLayout.setHover(hoverIndex)
</pre>
<h3>
    doUpdate
</h3>
<p>
    主动触发绘制更新：
</p>
<pre tag="javascript">
    pieLayout.doUpdate()
</pre>